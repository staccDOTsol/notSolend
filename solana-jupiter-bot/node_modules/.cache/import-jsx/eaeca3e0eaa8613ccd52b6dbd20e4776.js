"use strict";

const React = require("react");
const {
  Box,
  Text
} = require("ink");
const WizardContext = require("../WizardContext");
const {
  useContext,
  useState,
  useEffect,
  useRef
} = require("react");
const {
  default: SelectInput
} = require("ink-select-input");
const chalk = require("chalk");
const {
  default: axios
} = require("axios");
const {
  TOKEN_LIST_URL
} = require("@jup-ag/core");
const {
  default: TextInput
} = require("ink-text-input");
const fs = require("fs");
function Tokens() {
  let isMountedRef = useRef(false);
  const {
    config: {
      strategy: {
        value: strategy
      },
      network: {
        value: network
      },
      tokens: {
        value: tokensValue,
        isSet: tokensIsSet
      }
    },
    configSetValue
  } = useContext(WizardContext);
  const [tokens, setTokens] = useState([]);
  const [autocompleteTokens, setAutocompleteTokens] = useState([]);
  const [tempTokensValue, setTempTokensValue] = useState(tokensValue);
  const handleSubmit = (tokenId, selectedToken) => {
    // go to the next step only if all tokens are set
    let goToNextStep = true;
    tokensIsSet[tokenId] = true;
    tokensValue[tokenId] = {
      symbol: selectedToken.label,
      address: selectedToken.value
    };
    if (strategy === "arbitrage") {
      tokensIsSet.tokenB = true;
    }
    if (strategy === "pingpong" && tokenId === "tokenA") {
      goToNextStep = false;
    }
    console.log("tokens", {
      value: tokensValue,
      isSet: tokensIsSet
    });
    configSetValue("tokens", {
      value: tokensValue,
      isSet: tokensIsSet
    }, goToNextStep);
  };
  const handleTokenChange = (tokenId, value) => {
    if (!isMountedRef.current) return;
    const sanitizedValue = value.replace(/[^a-zA-Z0-9]/g, "");
    const filteredTokens = tokens.map(t => ({
      label: t.symbol,
      value: t.address
    })).filter(t => t.label.toLowerCase().includes(sanitizedValue.toLowerCase()));
    if (isMountedRef.current) {
      setAutocompleteTokens(filteredTokens);
      setTempTokensValue({
        ...tempTokensValue,
        [tokenId]: {
          symbol: sanitizedValue
        }
      });
    }
  };
  if (network === "") {
    return /*#__PURE__*/React.createElement(Box, null, /*#__PURE__*/React.createElement(Text, null, "Plese select ", /*#__PURE__*/React.createElement(Text, {
      color: "magenta"
    }, "network"), " first!"));
  }
  useEffect(() => {
    // check if tokens.json exist
    if (fs.existsSync("./tokens.json")) {
      const tokensFromFile = JSON.parse(fs.readFileSync("./config.json"));
      tokens.tokensFromFile?.length > 0 && setTokens(tokensFromFile);
    } else {
      axios.get(TOKEN_LIST_URL[network]).then(res => {
        isMountedRef.current && setTokens(res.data);
        // save tokens to tokens.json file
        fs.writeFileSync("./temp/tokens.json", JSON.stringify(res.data, null, 2));
      });
    }
  }, []);
  useEffect(() => {
    isMountedRef.current = true;
    return () => isMountedRef.current = false;
  }, []);
  return /*#__PURE__*/React.createElement(Box, {
    flexDirection: "column"
  }, /*#__PURE__*/React.createElement(Text, null, "Set tokens for Your strategy. There is", " ", tokens ? chalk.magenta(tokens.length) : chalk.yellowBright("loading..."), " ", "tokens available."), /*#__PURE__*/React.createElement(Text, {
    color: "gray"
  }, "Type token symbol and use arrows to select"), /*#__PURE__*/React.createElement(Box, {
    margin: 1,
    flexDirection: "column"
  }, /*#__PURE__*/React.createElement(Text, null, "Token A:", " ", !tokensIsSet.tokenA ? /*#__PURE__*/React.createElement(Text, {
    color: "yellowBright"
  }, /*#__PURE__*/React.createElement(TextInput, {
    value: tempTokensValue.tokenA.symbol.toString() || "",
    onChange: tokenSymbol => handleTokenChange("tokenA", tokenSymbol),
    placeholder: "USDC"
  })) : /*#__PURE__*/React.createElement(Text, {
    color: "greenBright",
    bold: true
  }, tokensValue.tokenA.symbol)), /*#__PURE__*/React.createElement(Box, null, !tokensIsSet.tokenA && tempTokensValue?.tokenA?.symbol?.length > 1 && /*#__PURE__*/React.createElement(SelectInput, {
    items: autocompleteTokens,
    limit: 4,
    onSelect: tokenSymbol => handleSubmit("tokenA", tokenSymbol)
  })), strategy === "pingpong" && /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Text, null, "Token B:", " ", tokensIsSet.tokenA && !tokensIsSet.tokenB ? /*#__PURE__*/React.createElement(Text, {
    color: "yellowBright"
  }, /*#__PURE__*/React.createElement(TextInput, {
    value: tempTokensValue.tokenB.symbol.toString() || "",
    onChange: tokenSymbol => handleTokenChange("tokenB", tokenSymbol),
    placeholder: "ARB"
  })) : /*#__PURE__*/React.createElement(Text, {
    color: "greenBright",
    bold: true
  }, tokensValue.tokenB.symbol)), /*#__PURE__*/React.createElement(Box, null, !tokensIsSet.tokenB && tempTokensValue.tokenB?.symbol?.length > 1 && /*#__PURE__*/React.createElement(SelectInput, {
    items: autocompleteTokens.filter(t => t.label !== tokensValue.tokenA.symbol),
    limit: 4,
    onSelect: tokenSymbol => handleSubmit("tokenB", tokenSymbol)
  })))));
}
module.exports = Tokens;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJSZWFjdCIsInJlcXVpcmUiLCJCb3giLCJUZXh0IiwiV2l6YXJkQ29udGV4dCIsInVzZUNvbnRleHQiLCJ1c2VTdGF0ZSIsInVzZUVmZmVjdCIsInVzZVJlZiIsImRlZmF1bHQiLCJTZWxlY3RJbnB1dCIsImNoYWxrIiwiYXhpb3MiLCJUT0tFTl9MSVNUX1VSTCIsIlRleHRJbnB1dCIsImZzIiwiVG9rZW5zIiwiaXNNb3VudGVkUmVmIiwiY29uZmlnIiwic3RyYXRlZ3kiLCJ2YWx1ZSIsIm5ldHdvcmsiLCJ0b2tlbnMiLCJ0b2tlbnNWYWx1ZSIsImlzU2V0IiwidG9rZW5zSXNTZXQiLCJjb25maWdTZXRWYWx1ZSIsInNldFRva2VucyIsImF1dG9jb21wbGV0ZVRva2VucyIsInNldEF1dG9jb21wbGV0ZVRva2VucyIsInRlbXBUb2tlbnNWYWx1ZSIsInNldFRlbXBUb2tlbnNWYWx1ZSIsImhhbmRsZVN1Ym1pdCIsInRva2VuSWQiLCJzZWxlY3RlZFRva2VuIiwiZ29Ub05leHRTdGVwIiwic3ltYm9sIiwibGFiZWwiLCJhZGRyZXNzIiwidG9rZW5CIiwiY29uc29sZSIsImxvZyIsImhhbmRsZVRva2VuQ2hhbmdlIiwiY3VycmVudCIsInNhbml0aXplZFZhbHVlIiwicmVwbGFjZSIsImZpbHRlcmVkVG9rZW5zIiwibWFwIiwidCIsImZpbHRlciIsInRvTG93ZXJDYXNlIiwiaW5jbHVkZXMiLCJleGlzdHNTeW5jIiwidG9rZW5zRnJvbUZpbGUiLCJKU09OIiwicGFyc2UiLCJyZWFkRmlsZVN5bmMiLCJsZW5ndGgiLCJnZXQiLCJ0aGVuIiwicmVzIiwiZGF0YSIsIndyaXRlRmlsZVN5bmMiLCJzdHJpbmdpZnkiLCJtYWdlbnRhIiwieWVsbG93QnJpZ2h0IiwidG9rZW5BIiwidG9TdHJpbmciLCJ0b2tlblN5bWJvbCIsIm1vZHVsZSIsImV4cG9ydHMiXSwic291cmNlcyI6WyJUb2tlbnMuanMiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5jb25zdCBSZWFjdCA9IHJlcXVpcmUoXCJyZWFjdFwiKTtcbmNvbnN0IHsgQm94LCBUZXh0IH0gPSByZXF1aXJlKFwiaW5rXCIpO1xuY29uc3QgV2l6YXJkQ29udGV4dCA9IHJlcXVpcmUoXCIuLi9XaXphcmRDb250ZXh0XCIpO1xuY29uc3QgeyB1c2VDb250ZXh0LCB1c2VTdGF0ZSwgdXNlRWZmZWN0LCB1c2VSZWYgfSA9IHJlcXVpcmUoXCJyZWFjdFwiKTtcbmNvbnN0IHsgZGVmYXVsdDogU2VsZWN0SW5wdXQgfSA9IHJlcXVpcmUoXCJpbmstc2VsZWN0LWlucHV0XCIpO1xuY29uc3QgY2hhbGsgPSByZXF1aXJlKFwiY2hhbGtcIik7XG5jb25zdCB7IGRlZmF1bHQ6IGF4aW9zIH0gPSByZXF1aXJlKFwiYXhpb3NcIik7XG5jb25zdCB7IFRPS0VOX0xJU1RfVVJMIH0gPSByZXF1aXJlKFwiQGp1cC1hZy9jb3JlXCIpO1xuY29uc3QgeyBkZWZhdWx0OiBUZXh0SW5wdXQgfSA9IHJlcXVpcmUoXCJpbmstdGV4dC1pbnB1dFwiKTtcbmNvbnN0IGZzID0gcmVxdWlyZShcImZzXCIpO1xuXG5mdW5jdGlvbiBUb2tlbnMoKSB7XG5cdGxldCBpc01vdW50ZWRSZWYgPSB1c2VSZWYoZmFsc2UpO1xuXG5cdGNvbnN0IHtcblx0XHRjb25maWc6IHtcblx0XHRcdHN0cmF0ZWd5OiB7IHZhbHVlOiBzdHJhdGVneSB9LFxuXHRcdFx0bmV0d29yazogeyB2YWx1ZTogbmV0d29yayB9LFxuXHRcdFx0dG9rZW5zOiB7IHZhbHVlOiB0b2tlbnNWYWx1ZSwgaXNTZXQ6IHRva2Vuc0lzU2V0IH0sXG5cdFx0fSxcblx0XHRjb25maWdTZXRWYWx1ZSxcblx0fSA9IHVzZUNvbnRleHQoV2l6YXJkQ29udGV4dCk7XG5cdGNvbnN0IFt0b2tlbnMsIHNldFRva2Vuc10gPSB1c2VTdGF0ZShbXSk7XG5cdGNvbnN0IFthdXRvY29tcGxldGVUb2tlbnMsIHNldEF1dG9jb21wbGV0ZVRva2Vuc10gPSB1c2VTdGF0ZShbXSk7XG5cdGNvbnN0IFt0ZW1wVG9rZW5zVmFsdWUsIHNldFRlbXBUb2tlbnNWYWx1ZV0gPSB1c2VTdGF0ZSh0b2tlbnNWYWx1ZSk7XG5cblx0Y29uc3QgaGFuZGxlU3VibWl0ID0gKHRva2VuSWQsIHNlbGVjdGVkVG9rZW4pID0+IHtcblx0XHQvLyBnbyB0byB0aGUgbmV4dCBzdGVwIG9ubHkgaWYgYWxsIHRva2VucyBhcmUgc2V0XG5cdFx0bGV0IGdvVG9OZXh0U3RlcCA9IHRydWU7XG5cblx0XHR0b2tlbnNJc1NldFt0b2tlbklkXSA9IHRydWU7XG5cdFx0dG9rZW5zVmFsdWVbdG9rZW5JZF0gPSB7XG5cdFx0XHRzeW1ib2w6IHNlbGVjdGVkVG9rZW4ubGFiZWwsXG5cdFx0XHRhZGRyZXNzOiBzZWxlY3RlZFRva2VuLnZhbHVlLFxuXHRcdH07XG5cblx0XHRpZiAoc3RyYXRlZ3kgPT09IFwiYXJiaXRyYWdlXCIpIHtcblx0XHRcdHRva2Vuc0lzU2V0LnRva2VuQiA9IHRydWU7XG5cdFx0fVxuXG5cdFx0aWYgKHN0cmF0ZWd5ID09PSBcInBpbmdwb25nXCIgJiYgdG9rZW5JZCA9PT0gXCJ0b2tlbkFcIikge1xuXHRcdFx0Z29Ub05leHRTdGVwID0gZmFsc2U7XG5cdFx0fVxuY29uc29sZS5sb2coXCJ0b2tlbnNcIixcbntcblx0dmFsdWU6IHRva2Vuc1ZhbHVlLFxuXHRpc1NldDogdG9rZW5zSXNTZXQsXG59KVxuXHRcdGNvbmZpZ1NldFZhbHVlKFxuXHRcdFx0XCJ0b2tlbnNcIixcblx0XHRcdHtcblx0XHRcdFx0dmFsdWU6IHRva2Vuc1ZhbHVlLFxuXHRcdFx0XHRpc1NldDogdG9rZW5zSXNTZXQsXG5cdFx0XHR9LFxuXHRcdFx0Z29Ub05leHRTdGVwXG5cdFx0KTtcblx0fTtcblxuXHRjb25zdCBoYW5kbGVUb2tlbkNoYW5nZSA9ICh0b2tlbklkLCB2YWx1ZSkgPT4ge1xuXHRcdGlmICghaXNNb3VudGVkUmVmLmN1cnJlbnQpIHJldHVybjtcblx0XHRjb25zdCBzYW5pdGl6ZWRWYWx1ZSA9IHZhbHVlLnJlcGxhY2UoL1teYS16QS1aMC05XS9nLCBcIlwiKTtcblx0XHRjb25zdCBmaWx0ZXJlZFRva2VucyA9IHRva2Vuc1xuXHRcdFx0Lm1hcCgodCkgPT4gKHtcblx0XHRcdFx0bGFiZWw6IHQuc3ltYm9sLFxuXHRcdFx0XHR2YWx1ZTogdC5hZGRyZXNzLFxuXHRcdFx0fSkpXG5cdFx0XHQuZmlsdGVyKCh0KSA9PlxuXHRcdFx0XHR0LmxhYmVsLnRvTG93ZXJDYXNlKCkuaW5jbHVkZXMoc2FuaXRpemVkVmFsdWUudG9Mb3dlckNhc2UoKSlcblx0XHRcdCk7XG5cdFx0aWYgKGlzTW91bnRlZFJlZi5jdXJyZW50KSB7XG5cdFx0XHRzZXRBdXRvY29tcGxldGVUb2tlbnMoZmlsdGVyZWRUb2tlbnMpO1xuXHRcdFx0c2V0VGVtcFRva2Vuc1ZhbHVlKHtcblx0XHRcdFx0Li4udGVtcFRva2Vuc1ZhbHVlLFxuXHRcdFx0XHRbdG9rZW5JZF06IHtcblx0XHRcdFx0XHRzeW1ib2w6IHNhbml0aXplZFZhbHVlLFxuXHRcdFx0XHR9LFxuXHRcdFx0fSk7XG5cdFx0fVxuXHR9O1xuXG5cdGlmIChuZXR3b3JrID09PSBcIlwiKSB7XG5cdFx0cmV0dXJuIChcblx0XHRcdDxCb3g+XG5cdFx0XHRcdDxUZXh0PlxuXHRcdFx0XHRcdFBsZXNlIHNlbGVjdCA8VGV4dCBjb2xvcj1cIm1hZ2VudGFcIj5uZXR3b3JrPC9UZXh0PiBmaXJzdCFcblx0XHRcdFx0PC9UZXh0PlxuXHRcdFx0PC9Cb3g+XG5cdFx0KTtcblx0fVxuXG5cdHVzZUVmZmVjdCgoKSA9PiB7XG5cdFx0Ly8gY2hlY2sgaWYgdG9rZW5zLmpzb24gZXhpc3Rcblx0XHRpZiAoZnMuZXhpc3RzU3luYyhcIi4vdG9rZW5zLmpzb25cIikpIHtcblx0XHRcdGNvbnN0IHRva2Vuc0Zyb21GaWxlID0gSlNPTi5wYXJzZShmcy5yZWFkRmlsZVN5bmMoXCIuL2NvbmZpZy5qc29uXCIpKTtcblxuXHRcdFx0dG9rZW5zLnRva2Vuc0Zyb21GaWxlPy5sZW5ndGggPiAwICYmIHNldFRva2Vucyh0b2tlbnNGcm9tRmlsZSk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdGF4aW9zLmdldChUT0tFTl9MSVNUX1VSTFtuZXR3b3JrXSkudGhlbigocmVzKSA9PiB7XG5cdFx0XHRcdGlzTW91bnRlZFJlZi5jdXJyZW50ICYmIHNldFRva2VucyhyZXMuZGF0YSk7XG5cdFx0XHRcdC8vIHNhdmUgdG9rZW5zIHRvIHRva2Vucy5qc29uIGZpbGVcblx0XHRcdFx0ZnMud3JpdGVGaWxlU3luYyhcblx0XHRcdFx0XHRcIi4vdGVtcC90b2tlbnMuanNvblwiLFxuXHRcdFx0XHRcdEpTT04uc3RyaW5naWZ5KHJlcy5kYXRhLCBudWxsLCAyKVxuXHRcdFx0XHQpO1xuXHRcdFx0fSk7XG5cdFx0fVxuXHR9LCBbXSk7XG5cdHVzZUVmZmVjdCgoKSA9PiB7XG5cdFx0aXNNb3VudGVkUmVmLmN1cnJlbnQgPSB0cnVlO1xuXHRcdHJldHVybiAoKSA9PiAoaXNNb3VudGVkUmVmLmN1cnJlbnQgPSBmYWxzZSk7XG5cdH0sIFtdKTtcblxuXHRyZXR1cm4gKFxuXHRcdDxCb3ggZmxleERpcmVjdGlvbj1cImNvbHVtblwiPlxuXHRcdFx0PFRleHQ+XG5cdFx0XHRcdFNldCB0b2tlbnMgZm9yIFlvdXIgc3RyYXRlZ3kuIFRoZXJlIGlze1wiIFwifVxuXHRcdFx0XHR7dG9rZW5zXG5cdFx0XHRcdFx0PyBjaGFsay5tYWdlbnRhKHRva2Vucy5sZW5ndGgpXG5cdFx0XHRcdFx0OiBjaGFsay55ZWxsb3dCcmlnaHQoXCJsb2FkaW5nLi4uXCIpfXtcIiBcIn1cblx0XHRcdFx0dG9rZW5zIGF2YWlsYWJsZS5cblx0XHRcdDwvVGV4dD5cblx0XHRcdDxUZXh0IGNvbG9yPVwiZ3JheVwiPlR5cGUgdG9rZW4gc3ltYm9sIGFuZCB1c2UgYXJyb3dzIHRvIHNlbGVjdDwvVGV4dD5cblx0XHRcdDxCb3ggbWFyZ2luPXsxfSBmbGV4RGlyZWN0aW9uPVwiY29sdW1uXCI+XG5cdFx0XHRcdDxUZXh0PlxuXHRcdFx0XHRcdFRva2VuIEE6e1wiIFwifVxuXHRcdFx0XHRcdHshdG9rZW5zSXNTZXQudG9rZW5BID8gKFxuXHRcdFx0XHRcdFx0PFRleHQgY29sb3I9XCJ5ZWxsb3dCcmlnaHRcIj5cblx0XHRcdFx0XHRcdFx0PFRleHRJbnB1dFxuXHRcdFx0XHRcdFx0XHRcdHZhbHVlPXt0ZW1wVG9rZW5zVmFsdWUudG9rZW5BLnN5bWJvbC50b1N0cmluZygpIHx8IFwiXCJ9XG5cdFx0XHRcdFx0XHRcdFx0b25DaGFuZ2U9eyh0b2tlblN5bWJvbCkgPT5cblx0XHRcdFx0XHRcdFx0XHRcdGhhbmRsZVRva2VuQ2hhbmdlKFwidG9rZW5BXCIsIHRva2VuU3ltYm9sKVxuXHRcdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdFx0XHRwbGFjZWhvbGRlcj1cIlVTRENcIlxuXHRcdFx0XHRcdFx0XHQvPlxuXHRcdFx0XHRcdFx0PC9UZXh0PlxuXHRcdFx0XHRcdCkgOiAoXG5cdFx0XHRcdFx0XHQ8VGV4dCBjb2xvcj1cImdyZWVuQnJpZ2h0XCIgYm9sZD5cblx0XHRcdFx0XHRcdFx0e3Rva2Vuc1ZhbHVlLnRva2VuQS5zeW1ib2x9XG5cdFx0XHRcdFx0XHQ8L1RleHQ+XG5cdFx0XHRcdFx0KX1cblx0XHRcdFx0PC9UZXh0PlxuXG5cdFx0XHRcdDxCb3g+XG5cdFx0XHRcdFx0eyF0b2tlbnNJc1NldC50b2tlbkEgJiZcblx0XHRcdFx0XHRcdHRlbXBUb2tlbnNWYWx1ZT8udG9rZW5BPy5zeW1ib2w/Lmxlbmd0aCA+IDEgJiYgKFxuXHRcdFx0XHRcdFx0XHQ8U2VsZWN0SW5wdXRcblx0XHRcdFx0XHRcdFx0XHRpdGVtcz17YXV0b2NvbXBsZXRlVG9rZW5zfVxuXHRcdFx0XHRcdFx0XHRcdGxpbWl0PXs0fVxuXHRcdFx0XHRcdFx0XHRcdG9uU2VsZWN0PXsodG9rZW5TeW1ib2wpID0+IGhhbmRsZVN1Ym1pdChcInRva2VuQVwiLCB0b2tlblN5bWJvbCl9XG5cdFx0XHRcdFx0XHRcdC8+XG5cdFx0XHRcdFx0XHQpfVxuXHRcdFx0XHQ8L0JveD5cblxuXHRcdFx0XHR7c3RyYXRlZ3kgPT09IFwicGluZ3BvbmdcIiAmJiAoXG5cdFx0XHRcdFx0PD5cblx0XHRcdFx0XHRcdDxUZXh0PlxuXHRcdFx0XHRcdFx0XHRUb2tlbiBCOntcIiBcIn1cblx0XHRcdFx0XHRcdFx0e3Rva2Vuc0lzU2V0LnRva2VuQSAmJiAhdG9rZW5zSXNTZXQudG9rZW5CID8gKFxuXHRcdFx0XHRcdFx0XHRcdDxUZXh0IGNvbG9yPVwieWVsbG93QnJpZ2h0XCI+XG5cdFx0XHRcdFx0XHRcdFx0XHQ8VGV4dElucHV0XG5cdFx0XHRcdFx0XHRcdFx0XHRcdHZhbHVlPXt0ZW1wVG9rZW5zVmFsdWUudG9rZW5CLnN5bWJvbC50b1N0cmluZygpIHx8IFwiXCJ9XG5cdFx0XHRcdFx0XHRcdFx0XHRcdG9uQ2hhbmdlPXsodG9rZW5TeW1ib2wpID0+XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0aGFuZGxlVG9rZW5DaGFuZ2UoXCJ0b2tlbkJcIiwgdG9rZW5TeW1ib2wpXG5cdFx0XHRcdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdFx0XHRcdFx0cGxhY2Vob2xkZXI9XCJBUkJcIlxuXHRcdFx0XHRcdFx0XHRcdFx0Lz5cblx0XHRcdFx0XHRcdFx0XHQ8L1RleHQ+XG5cdFx0XHRcdFx0XHRcdCkgOiAoXG5cdFx0XHRcdFx0XHRcdFx0PFRleHQgY29sb3I9XCJncmVlbkJyaWdodFwiIGJvbGQ+XG5cdFx0XHRcdFx0XHRcdFx0XHR7dG9rZW5zVmFsdWUudG9rZW5CLnN5bWJvbH1cblx0XHRcdFx0XHRcdFx0XHQ8L1RleHQ+XG5cdFx0XHRcdFx0XHRcdCl9XG5cdFx0XHRcdFx0XHQ8L1RleHQ+XG5cdFx0XHRcdFx0XHQ8Qm94PlxuXHRcdFx0XHRcdFx0XHR7IXRva2Vuc0lzU2V0LnRva2VuQiAmJlxuXHRcdFx0XHRcdFx0XHRcdHRlbXBUb2tlbnNWYWx1ZS50b2tlbkI/LnN5bWJvbD8ubGVuZ3RoID4gMSAmJiAoXG5cdFx0XHRcdFx0XHRcdFx0XHQ8U2VsZWN0SW5wdXRcblx0XHRcdFx0XHRcdFx0XHRcdFx0aXRlbXM9e2F1dG9jb21wbGV0ZVRva2Vucy5maWx0ZXIoXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0KHQpID0+IHQubGFiZWwgIT09IHRva2Vuc1ZhbHVlLnRva2VuQS5zeW1ib2xcblx0XHRcdFx0XHRcdFx0XHRcdFx0KX1cblx0XHRcdFx0XHRcdFx0XHRcdFx0bGltaXQ9ezR9XG5cdFx0XHRcdFx0XHRcdFx0XHRcdG9uU2VsZWN0PXsodG9rZW5TeW1ib2wpID0+XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0aGFuZGxlU3VibWl0KFwidG9rZW5CXCIsIHRva2VuU3ltYm9sKVxuXHRcdFx0XHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRcdFx0XHQvPlxuXHRcdFx0XHRcdFx0XHRcdCl9XG5cdFx0XHRcdFx0XHQ8L0JveD5cblx0XHRcdFx0XHQ8Lz5cblx0XHRcdFx0KX1cblx0XHRcdDwvQm94PlxuXHRcdDwvQm94PlxuXHQpO1xufVxubW9kdWxlLmV4cG9ydHMgPSBUb2tlbnM7XG4iXSwibWFwcGluZ3MiOiJBQUFBLFlBQVk7O0FBQ1osTUFBTUEsS0FBSyxHQUFHQyxPQUFPLENBQUMsT0FBTyxDQUFDO0FBQzlCLE1BQU07RUFBRUMsR0FBRztFQUFFQztBQUFLLENBQUMsR0FBR0YsT0FBTyxDQUFDLEtBQUssQ0FBQztBQUNwQyxNQUFNRyxhQUFhLEdBQUdILE9BQU8sQ0FBQyxrQkFBa0IsQ0FBQztBQUNqRCxNQUFNO0VBQUVJLFVBQVU7RUFBRUMsUUFBUTtFQUFFQyxTQUFTO0VBQUVDO0FBQU8sQ0FBQyxHQUFHUCxPQUFPLENBQUMsT0FBTyxDQUFDO0FBQ3BFLE1BQU07RUFBRVEsT0FBTyxFQUFFQztBQUFZLENBQUMsR0FBR1QsT0FBTyxDQUFDLGtCQUFrQixDQUFDO0FBQzVELE1BQU1VLEtBQUssR0FBR1YsT0FBTyxDQUFDLE9BQU8sQ0FBQztBQUM5QixNQUFNO0VBQUVRLE9BQU8sRUFBRUc7QUFBTSxDQUFDLEdBQUdYLE9BQU8sQ0FBQyxPQUFPLENBQUM7QUFDM0MsTUFBTTtFQUFFWTtBQUFlLENBQUMsR0FBR1osT0FB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